
<mat-card class="card">
    <mat-tab-group>
        <mat-tab label="Umowa">
            <form [formGroup]="leaseAgreementForm">
                <div class="container">
                    <mat-form-field appearance="fill">
                        <mat-label>Podaj okres umowy</mat-label>
                        <mat-date-range-input [formGroup]="leaseAgreementForm" [rangePicker]="pickerContractPeriod">
                            <input matStartDate formControlName="startContractDate" placeholder="Data początkowa">
                            <input matEndDate formControlName="endContractDate" placeholder="Data końcowa">
                        </mat-date-range-input>
                        <mat-datepicker-toggle matIconSuffix [for]="pickerContractPeriod"></mat-datepicker-toggle>
                        <mat-date-range-picker #pickerContractPeriod></mat-date-range-picker>
                        <mat-error *ngIf="this.startContractDate?.invalid">
                            {{getStartContractDateErrorMsg()}}
                        </mat-error>
                    </mat-form-field>
                    

                    <mat-form-field appearance="outline">
                        <mat-label>Kaucja</mat-label>
                        <input matInput formControlName="deposit" type="number">
                        <span matTextSuffix>zł</span>
                        <mat-error *ngIf="this.deposit?.invalid">
                            {{getDepositErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Wpłacona kaucja</mat-label>
                        <input matInput formControlName="depositPaid" type="number">
                        <span matTextSuffix>zł</span>
                        <mat-error *ngIf="this.depositPaid?.invalid">
                            {{getDepositPaidErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Termin płatności</mat-label>
                        <mat-select formControlName="paymentDueDate">
                            <mat-option *ngFor="let number of leasesNumbers" [value]="number">
                                {{number}}
                            </mat-option>
                        </mat-select>
                        <mat-error *ngIf="this.paymentDueDate?.invalid">
                            {{getPaymentDueDateErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Kwota czynszu</mat-label>
                        <input matInput formControlName="rentAmount" type="number">
                        <span matTextSuffix>zł</span>
                        <mat-error *ngIf="this.rentAmount?.invalid">
                            {{getRentAmountErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Kwota odstępnego</mat-label>
                        <input matInput formControlName="compensationAmount" type="number">
                        <span matTextSuffix>zł</span>
                        <mat-error *ngIf="this.compensationAmount?.invalid">
                            {{getCompensationAmountErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Kwota za internet</mat-label>
                        <input matInput formControlName="internetFee" type="number">
                        <span matTextSuffix>zł</span>
                        <mat-error *ngIf="this.internetFee?.invalid">
                            {{getInternetFeeErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Opłata za gaz</mat-label>
                        <input matInput formControlName="gasDeposit" type="number">
                        <span matTextSuffix>zł</span>
                        <mat-error *ngIf="this.gasDeposit?.invalid">
                            {{getGasDepositErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Ilość wliczonej wody</mat-label>
                        <input matInput formControlName="includedWaterMeters" type="number">
                        <span matTextSuffix>m³&nbsp;</span>
                        <mat-error *ngIf="this.includedWaterMeters?.invalid">
                            {{getIncludedWaterMetersErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Początkowy odczyt energii</mat-label>
                        <input matInput formControlName="initialEnergyMeterReading" type="number">
                        <span matTextSuffix>kWh</span>
                        <mat-error *ngIf="this.initialEnergyMeterReading?.invalid">
                            {{getInitialEnergyMeterReadingErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Początkowy odczyt wody</mat-label>
                        <input matInput formControlName="initialWaterMeterReading" type="number">
                        <span matTextSuffix>m³&nbsp;</span>
                        <mat-error *ngIf="this.initialWaterMeterReading?.invalid">
                            {{getInitialWaterMeterReadingErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Początkowy odczyt gazu</mat-label>
                        <input matInput formControlName="initialGasMeterReading" type="number">
                        <span matTextSuffix>m³&nbsp;</span>
                        <mat-error *ngIf="this.initialGasMeterReading?.invalid">
                            {{getInitialGasMeterReadingErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <mat-label>Data zwrotu kaucji</mat-label>
                        <input matInput [matDatepicker]="pickerDepositReturnDate" formControlName="depositReturnDate">
                        <mat-datepicker-toggle matIconSuffix [for]="pickerDepositReturnDate"></mat-datepicker-toggle>
                        <mat-datepicker #pickerDepositReturnDate></mat-datepicker>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Kwota zwróconej kaucji</mat-label>
                        <input matInput formControlName="returnedDepositAmount" type="number">
                        <span matTextSuffix>zł</span>
                        <mat-error *ngIf="this.returnedDepositAmount?.invalid">
                            {{getReturnedDepositAmountErrorMsg()}}
                        </mat-error>
                    </mat-form-field>

                    <button mat-flat-button style="background-color: black; color: white;" (click)="submit()">Zapisz</button>
                </div>
            </form>
        </mat-tab>
        <mat-tab label="Najemca"> Najpierw dodaj umowę!</mat-tab>
    </mat-tab-group>
</mat-card>